var app={};app.EtsyApi=function(e){if(!e.apiKey)throw console.log("you must enter an api");var t="https://openapi.etsy.com/"+(e.apiVersion||"v2");return self={listings:function(){var n=t+"/listings/active.js?limit=25&includes=MainImage&api_key="+e.apiKey+"&callback=?",a=$.Deferred(),s=$.getJSON(n).done(function(e){e.ok?a.resolve(e):a.reject(s,"Unknown Error",e)});return a},userDetail:function(n){var a=t+"/users/"+n+"/profile.js?api_key="+e.apiKey+"&callback=?",s=$.Deferred(),o=$.getJSON(a).done(function(e){e.ok?s.resolve(e):s.reject(o,"Unknown Error",e)});return s}},self},app.etsyShow=function(){{var e=app.EtsyApi({apiKey:"j4t40f6swvekws6carlvptkh"});_.template($("#etsyShow").html(),{variable:"m"})}e.listings().done(function(e){$.get("views/listings.html").done(function(t){var n=_.template(t,{variable:"m"});$(".etsy-content").html(n({items:e.results}))})}).fail(function(e,t,n){$(".etsy-content").text(n.error)})},app.etsyUser=function(e){{var t=app.EtsyApi({apiKey:"j4t40f6swvekws6carlvptkh"});_.template($("#etsyShow").html(),{variable:"m"})}t.userDetail(e).done(function(e){$.get("views/user.html").done(function(t){var n=_.template(t,{variable:"m"});console.log(e.results),$(".etsy-content").html(n({users:e.results}))})}).fail(function(e,t,n){$(".etsy-content").text(n.error)})},app.routingPage=function(){function e(){console.log("hey now"),$.get("views/users.html").done(function(e){$(".main-content").html(e)})}function t(){var e=location.hash||"#";n.run(e.slice(1))||$(".etsy-content").text("page not found")}var n=Rlite();n.add("",app.etsyShow),n.add("users",e),n.add("users/:name",function(e){app.etsyUser(e.params.name)}),window.addEventListener("hashchange",t),t()},$(function(){var e=$("body").data("page");app[e]()});
//# sourceMappingURL=app.js.map